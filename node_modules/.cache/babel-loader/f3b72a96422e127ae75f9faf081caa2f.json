{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _recompose = require('recompose');\n\nvar _reactJplayerUtils = require('react-jplayer-utils');\n\nvar _actions = require('../../actions/actions');\n\nvar _animation = require('./animation');\n\nvar _animation2 = _interopRequireDefault(_animation);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar timeoutIds = [];\n\nvar mapStateToProps = function mapStateToProps(_ref, _ref2) {\n  var jPlayers = _ref.jPlayers;\n  var id = _ref2.id;\n  return {\n    fullScreen: jPlayers[id].fullScreen,\n    paused: jPlayers[id].paused,\n    startGuiFadeOut: jPlayers[id].startGuiFadeOut,\n    guiFadeOut: jPlayers[id].guiFadeOut,\n    guiFadeHoldTime: jPlayers[id].guiFadeHoldTime\n  };\n};\n\nvar handlers = {\n  onMouseMove: function onMouseMove(props) {\n    return function () {\n      if (props.fullScreen) {\n        props.setOption(props.id, 'startGuiFadeOut', false);\n        timeoutIds.forEach(function (timeoutId) {\n          return clearTimeout(timeoutId);\n        });\n      }\n    };\n  },\n  fadeOutHandler: function fadeOutHandler(props) {\n    return function () {\n      props.setOption(props.id, 'guiFadeOut', true);\n    };\n  }\n};\nvar lifecycle = {\n  startFade: function startFade() {\n    if (this.props.fullScreen && !this.props.paused && this.props.startGuiFadeOut) {\n      timeoutIds.push(setTimeout(this.props.fadeOutHandler, this.props.guiFadeHoldTime));\n    } else if (!this.props.startGuiFadeOut) {\n      this.props.setOption(this.props.id, 'guiFadeOut', false);\n    }\n  },\n  componentDidUpdate: function componentDidUpdate(prevProps) {\n    if (prevProps.startGuiFadeOut !== this.props.startGuiFadeOut) {\n      this.startFade();\n    }\n  }\n};\nexports.default = (0, _recompose.compose)((0, _reactJplayerUtils.connectWithId)(mapStateToProps, {\n  setOption: _actions.setOption\n}), (0, _recompose.withHandlers)(handlers), (0, _recompose.lifecycle)(lifecycle))(_animation2.default);","map":null,"metadata":{},"sourceType":"script"}